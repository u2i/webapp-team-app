apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: ${APP_NAME}-pdb # from-param: ${APP_NAME}-pdb
  namespace: ${NAMESPACE} # from-param: ${NAMESPACE}
spec:
  minAvailable: ${PDB_MIN_AVAILABLE} # from-param: ${PDB_MIN_AVAILABLE}
  selector:
    matchLabels:
      app: ${APP_NAME} # from-param: ${APP_NAME}
  # Allow disruption during maintenance windows
  unhealthyPodEvictionPolicy: AlwaysAllow
