apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Production environment with Gateway API
# Single stage deployment

resources:
# Base resources
- ../../base/deployment.yaml
- ../../base/service.yaml
- ../../base/network-policy.yaml

# Gateway routing
- gateway-resources.yaml

# Production-specific resources
# Re-enabled PodDisruptionBudget with split Skaffold configuration
- ../../base/pod-disruption-budget.yaml

# Common labels for all resources
commonLabels:
  app.kubernetes.io/component: webapp
  environment: prod
  compliance: iso27001-soc2-gdpr
  data-residency: eu